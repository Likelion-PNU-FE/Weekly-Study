<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§›ì§‘ ë¦¬ìŠ¤íŠ¸</title>
    <link rel="stylesheet" href="list.css">
</head>
<body>
    <header>
        <nav>
            <a href="jinju.html">home</a>
            <h1>ì›¹í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì ê¸ˆì§„ì£¼</h1>
            <a href="list.html">ë§›ì§‘ë¦¬ìŠ¤íŠ¸</a>
        </nav>
    </header>
    <main>
        <div class="main-content">
            <h1 class="ml">ë§›ì§‘ ë¦¬ìŠ¤íŠ¸</h1>
            <h2>1.í˜¸ìš°ì˜¤ìš° ìƒ¤ë¸Œ</h2>
            <img src="./1.jpg" alt="ìƒ¤ë¸Œìƒ¤ë¸Œ" height="300">
            <p>ê¹€í•´ ë´‰í™©ë™ ë´‰ë¦¬ë‹¨ê¸¸</p>
            <p>í›„ì‹ìœ¼ë¡œ ì£¼ëŠ” ë…¹ì°¨ ì•„ì´ìŠ¤í¬ë¦¼ì´ ë§›ìˆìŒ</p>
            <input type="button" value="â™¥">
            <h2>2.ì—°ì§€ê³µì›</h2>
            <img src="./2.jpg" alt="ì—°ì§€ê³µì›" height="300">
            <p>ì˜ˆì˜ë‹¤</p>
            <input type="button" value="â™¥">
            <!-- ë‚˜ë¨¸ì§€ ë§›ì§‘ ì •ë³´ë“¤ë„ ìœ ì‚¬í•˜ê²Œ ì‘ì„± -->
        </div>
        <ul id="restaurantList"></ul>
    </main>
    <footer>
        <p>ì†Œì† : ë¶€ì‚°ëŒ€í•™êµ ë©‹ìŸì´ì‚¬ìì²˜ëŸ¼</p>
        <p>ì£¼ì†Œ : ë¶€ì‚°ê´‘ì—­ì‹œ ê¸ˆì •êµ¬ ë¶€ì‚°ëŒ€í•™ë¡œ63ë²ˆê¸¸ 2</p>
        <p>ì—°ë½ì²˜ : 010-9384-8454</p>
    </footer>

    <section class="mainSection" id="hpSection">
        <h1 class="mainText">â™¥{ë§›ì§‘ ë¦¬ìŠ¤íŠ¸}â™¥</h1>
        <div class="hpList">
            <div class="addSection">
                <input type="text" id="newPlaceName" placeholder="ë§›ì§‘ ì´ë¦„" /><br> 
                <input type="text" id="newPlaceDesc" placeholder="ë§›ì§‘ ì†Œê°œ" /><br>
                <input type="text" id="newPlaceImg" placeholder="ì´ë¯¸ì§€ URL" /><br>
                <button onclick="addPlace()">ë§›ì§‘ ì¶”ê°€</button><br>
            </div>
        </div>
    </section>

    <script>
        let restaurantList = [];

        function loadRestaurantList() {
            const storedList = localStorage.getItem('restaurantList');
            if (storedList) {
                restaurantList = JSON.parse(storedList);
            }
        }

        function saveRestaurantList() {
            localStorage.setItem('restaurantList', JSON.stringify(restaurantList));
        }

        function addPlace() {
            let placeName = document.getElementById('newPlaceName').value;
            let placeDesc = document.getElementById('newPlaceDesc').value;
            let placeImgUrl = document.getElementById('newPlaceImg').value;

            if (placeName.trim() === '' || placeDesc.trim() === '' || placeImgUrl.trim() === '') {
                alert('ë§›ì§‘ ì´ë¦„, ì†Œê°œ, ì´ë¯¸ì§€ URLì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            restaurantList.push({
                name: placeName,
                desc: placeDesc,
                imgUrl: placeImgUrl,
                liked: false
            });

            saveRestaurantList();

            // ì¶”ê°€ëœ ë§›ì§‘ì„ í™”ë©´ì— í‘œì‹œ
            renderRestaurant(restaurantList.length - 1);

            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('newPlaceName').value = '';
            document.getElementById('newPlaceDesc').value = '';
            document.getElementById('newPlaceImg').value = '';

            alert(placeName + ' ë§›ì§‘ ë“±ë¡ ì™„ë£Œ!');
        }

        function renderRestaurant(index) {
            const newPlace = restaurantList[index];
            const hpList = document.getElementById('restaurantList');
            const li = document.createElement('li');

            li.innerHTML = `
                <h2>${newPlace.name}</h2>
                <img src="${newPlace.imgUrl}" alt="${newPlace.name}" height="300">
                <p>${newPlace.desc}</p>
                <button class="like" onclick="toggleLike(${index})">${newPlace.liked ? 'â¤ï¸' : 'ğŸ¤'}</button>
                <button onclick="deleteRestaurant(${index})">ë§›ì§‘ ì‚­ì œ</button>
            `;

            hpList.appendChild(li);
        }

        function deleteRestaurant(index) {
            restaurantList.splice(index, 1);
            saveRestaurantList();
            loadRestaurantList();
            renderAllRestaurants();
        }

        function toggleLike(index) {
            restaurantList[index].liked = !restaurantList[index].liked;
            saveRestaurantList();
            loadRestaurantList();
            renderAllRestaurants();
        }

        function renderAllRestaurants() {
            const hpList = document.getElementById('restaurantList');
            hpList.innerHTML = ''; // Clear existing list
            restaurantList.forEach((place, index) => {
                renderRestaurant(index);
            });
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë§›ì§‘ ë¦¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°
        loadRestaurantList();
        renderAllRestaurants();
    </script>
</body>
</html>